<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>编辑</title>

    <!-- Bootstrap -->
    <link href="/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- jquery datatable -->
    <link href="/vendors/datatable/datatables.css" rel="stylesheet">
    <!-- lulu ui -->
    <link href="/vendors/lulu/css/common/ui.css" rel="stylesheet">
    <!-- jquery tagsinput -->
    <link href="/vendors/tagsinput/jquery.tagsinput.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="/css/reset.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    <!--[if lt IE 9]>
    <script src="./vendors/html5shiv.js"></script>
    <script src="./vendors/respond.js"></script>
    <script src="./vendors/excanvas.js"></script>
    <![endif]-->
    <style type="text/css">
      table.dataTable {
        table-layout: fixed;
      }
      
      th {
          text-align: center;
          white-space: nowrap;
      }
      table.dataTable tbody td {
          text-align: center;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
      }
      .perTab{
            background: #dfe1e5;
            border-radius: 4px;
            line-height: 1.5em;
            color: rgba(0,0,0,.5);
            padding: 3px 10px;
            display: inline-block;
            margin-right: 5px;
            margin-bottom:4px;
        }
        .icon{
            margin: 14px 3px !important;
            margin-bottom: -6px !important;
            margin-left: -8px !important;
        }
        .col-sm-8 {
            width: 64% !important;
        }
        .col-sm-4 {
            width: 30% !important;
        }
        .row{
            margin-left: 0px !important;
            margin-right: 0px !important;
        }
        .BtnRed2 {
            width: 82px;
            height: 40px;
            border: 1px solid #ee4063 !important;
            color: #ee4063 !important;
            background: #FFF !important;
            border-radius:4px;
        }
        .row-num{
                width: 18%;
        }
        .row-psn,
        .row-explain{
            width: 12%;
        }
        .row-acct,
        .row-org{
            width: 14%; 
        }
        .row-date{
            width: 20%;
        }
        .row-state{
            width: 10%;
        }
        #perm_tagsinput{
            width: 83% !important;
        }
        #location_tagsinput,
        #parRole_tagsinput{
            width: 64% !important;
        }
        #location_tagsinput .tag,
        #parRole_tagsinput .tag{
            margin-bottom: 0px !important;
        }
        #location,#parRole,#perm{
            opacity: 0;
            filter: alpha(opacity=0);
            position: absolute;
        }
    </style>
  </head>

  <body style="background: #fff;">
        <a class="BoardTitle Back" style="color:#008aff;margin-bottom:10px;border-bottom: 1px solid #ecedef;cursor: pointer;" onclick="backToList()">返回</a>
        <div class="board-title">
            <span class="name ft18" style="margin-top: 15px;">角色详情</span>
        </div>
        <div class="nav-tabs-brief" style="padding-top: 15px;">
            <ul class="nav nav-tabs tab-title" role="tablist" id="myTabs">
            <li role="presentation" class="active" style="width: 12%;"><a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">角色信息</a>
            </li>
            <li role="presentation" class="" style="width: 12%;"><a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab" aria-expanded="false">更新记录</a>
            </li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane active" id="tab_content1">
                    <div id="roleInfo" style="margin-top:15px;">
                        <div class="board-title">
                            <span class="name ft18" style="margin-top: 15px;" id="roleNameTitle"></span>
                            <a class="icon icon-edit" id="EditButton" title="信息编辑" onclick="editInfo()" href="javascript:void(0)"></a>
                        </div>
                        <div class="breadcrumb" style="padding: 0px 15px 0; background: #fff;margin-bottom: 30px !important;"></div>   <!-- 完整路径-->
                        <div style="margin-left:11px;">
                            <div class="row" style="margin-bottom: 10px;">
                                <div class="col-md-6 col-sm-6 col-xs-6" style="margin-bottom:15px;width: 32%;">
                                    <span>角色编码：</span><span id="roleCodeLable"></span>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-6" style="margin-bottom:15px;width: 50%;">
                                    <span>上级角色：</span><span id="parRoleLable"></span>
                                </div>
                            </div>
    
                            <div class="row" style="margin-bottom: 10px;">
                                <div class="col-md-6 col-sm-6 col-xs-6" style="margin-bottom:15px;width: 32%;">
                                    <span>管理区域：</span><span id="areaLable"></span>
                                </div>
    
                                <div class="col-md-6 col-sm-6 col-xs-6" style="margin-bottom:15px;width: 50%;">
                                    <span>状态：</span><span id="stateLable">有效</span>
                                </div>
                            </div>
    
                            <div class="row" style="margin-bottom: 10px;">
                                <div class="col-md-6 col-sm-6 col-xs-6" style="margin-bottom:15px;width: 32%;">
                                    <span>排序号：</span><span id="sortLable"></span>
                                </div>
                                <div class="col-md-6 col-sm-6 col-xs-6" style="margin-bottom:15px;width: 50%;">
                                    <span>备注：</span><span id="remarkLable"></span>
                                </div>
                            </div>
                                    
                            <div class="row" style="margin-bottom: 10px;">
                                <div class="col-md-2 col-sm-2 col-xs-2" style="width:9%;">
                                    <span class="permission" style="line-height: 2em;">所含权限</span> 
                                </div>
                    
                                <div class="col-md-10 col-sm-10 col-xs-10">
                                    <span id="perms"></span>
                                </div>
                            </div>
                        </div>
                        
                    </div>

                    <div id="editInfo" style="display:none;margin-top:30px;">
                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="roleName" class="form-item-label-required col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">角色名称</label>
                                    <input id="roleName" style="padding:8px 8px" class="ui-input col-md-8 col-sm-8 col-xs-8" 
                                            size="40" value="" autocomplete="off" required>
                                </div>
                            </div>

                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="roleCode" class="col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">角色编码</label>
                                    <input id="roleCode" style="padding:8px 8px" class="ui-input col-md-8 col-sm-8 col-xs-8" 
                                            size="40" value="" autocomplete="off" disabled>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="parRole" class="col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">上级角色</label>
                                    <input id="parRole" class="ui-input col-md-8 col-sm-8 col-xs-8" onclick="openParRoleDialog()" readonly>
                                </div>
                            </div>

                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="location" class="form-item-label-required col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">管理区域</label>
                                    <input id="location" class="ui-input col-md-8 col-sm-8 col-xs-8" onclick="openLocationDialog()" required readonly>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="statusCd" class="col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">状态</label>
                                    <select  class="col-md-8 col-sm-8 col-xs-8" id="statusCd">
                                        <option value="1000">有效</option>
                                        <option value="1100">无效</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="sortNum" class="form-item-label-required col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">排序号</label>
                                    <input id="sortNum" style="padding:8px 8px" class="ui-input col-md-8 col-sm-8 col-xs-8" 
                                            size="40" value="03" autocomplete="off" required>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-6 col-sm-6 col-xs-6">
                                <div class="form-item" style="width: 100%">
                                    <label for="notes" class="col-md-4 col-sm-4 col-xs-4" style="padding-right: 20px;line-height: 40px;text-align: right;">备注</label>
                                    <input id="notes" style="padding:8px 8px" class="ui-input col-md-8 col-sm-8 col-xs-8" 
                                            size="40" value="" autocomplete="off">
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 10px;">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="form-item" style="width: 100%">
                                    <label for="perm" class="form-item-label-required col-md-2 col-sm-2 col-xs-2" style="padding-right: 20px;line-height: 40px;text-align: right;width: 14.3%;">所含权限</label>
                                    <input id="perm" class="ui-input col-md-10 col-sm-10 col-xs-10" style="width:83%;" onclick="openPermDialog()" required readonly></input>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="margin-bottom: 10px;">
                            <div style="margin-left:34%;margin-top:4%;">
                                <button class="ui-button ui-button-primary" onclick="updateRole()">保存</button>
                                <button class="Btn BtnRed2" id="delAcct" onclick="deleteRole()" style="margin-left: 10px;">删除</button>
                                <button class="ui-button ui-button-cancel" onclick="cancel()" style="margin-left: 10px;">取消</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane" id="tab_content2">
                    <div id="table-container" style="width: 100%; font-size: 14px; overflow: hidden;">
                        <table id="logTable" class="stripe" width="100%"></table>
                    </div>
                </div>
            </div>
        </div>

    <!-- jQuery -->
    <script type="text/javascript" src="/js/core/jquery.js"></script>
    <!-- Bootstrap -->
    <script type="text/javascript" src="/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- sea js -->
    <script type="text/javascript" src="/vendors/lulu/js/plugin/sea.js"></script>
    <!-- layer -->
    <script type="text/javascript" src="/vendors/layer/layer.js"></script>
    <!-- jquery tagsinput -->
    <script type="text/javascript" src="/vendors/tagsinput/jquery.tagsinput.js"></script>
    <!-- lulu -->
    <script type="text/javascript" src="/vendors/lulu/js/common/ui/Validate.js"></script>
    <!-- init -->
    <script type="text/javascript" src="/js/init.js"></script>
    <!-- jquery datatable -->
    <script type="text/javascript" src="/vendors/datatable/datatables.js"></script>
    <!-- Custom Theme Scripts -->
    <script type="text/javascript" src="/js/manage/user.js"></script>
    <script type="text/javascript" src="/js/manage/role/roleInfo.js"></script>
    <script type="text/javascript">
        seajs.use('/vendors/lulu/js/common/ui/Select', function () {
            $('#select1').selectMatch();
            $('#select2').selectMatch();
            $('#select3').selectMatch();
        })
    </script>
  </body>
</html>
