# 微服务模块化结构

~~~
|——uoo----------------------------------------------------父项目，公共依赖
|   |
|   |——uoo-base-------------------------------------------基础模块
|   |   |
|   |   |——base-common------------------------------------基础部分，可被复用
|   |   |   |
|   |   |   |——common-tool--------------------------------工具类，定义时间、文件、日期、字符串的操作脚手架
|   |   |   |
|   |   |   |——common-abstract----------------------------基于mybatis，做的持久层、拦截器、配置基础包，可被模块引用，减少开发工作量
|   |   |
|   |   |——uoo-register-----------------------------------微服务注册中心
|   |   |
|   |   |——uoo-gateway------------------------------------微服务网关中心
|   |   |
|   |   |——uoo-sleuth-------------------------------------微服务链路追踪中心
|   |   |
|   |   |——uoo-monitor------------------------------------微服务监控中心
|   |
|   |——uoo-common-----------------------------------------公用模块，微服务本身的管理公共模块，可以被任何其他想尝试微服务的项目重用
|   |   |
|   |   |——common-auth------------------------------------公用登录认证服务中心
|   |   |
|   |   |——common-system----------------------------------系统公共部分包含用户、部门、菜单、角色、区域、字典
|   |   |
|   |   |——common-activiti--------------------------------公共工作流服务中心
|   |   |   |
|   |   |   |——activiti-core------------------------------工作流模块，目前，内蒙项目所用
|   |   |
|   |   |——common-cache-----------------------------------公共缓存服务中心
|   |   |
|   |   |——common-queues----------------------------------公共队列的基本管理服务中心
|   |   |   |
|   |   |   |——queues-manager-----------------------------提供基于rabbitMQ的队列管理能力
|   |
|   |——uoo-business---------------------------------------业务模块
|   |   |
|   |   |——business-syn-msg-------------------------------数据共享-数据封装同步组件
|   |   |
|   |   |——business-organization--------------------------组织域服务中心
|   |   |
|   |   |——business-personnel-----------------------------人员域服务中心
|   |   |
|   |   |——business-user----------------------------------用户域服务中心
|   |   |
|   |   |——business-permission----------------------------权限域服务中心
|   |   |
|   |   |——business-position------------------------------职位域服务中心
|   |
|   |——uoo-business-api-----------------------------------可对外开放，被第三方使用的服务API，需要考虑数据安全
|   |   |
|   |   |——api-user---------------------------------------用户对外API
|   |   |
|   |   |——api-org----------------------------------------组织域服务API
|   |   |
|   |   |——api-auth---------------------------------------认证SSO对外API
|   |
|   |——uoo-business-web-----------------------------------WEB端
|   |   |
|   |   |——mdm-web----------------------------------------主数据中心维护支撑WEB
|   |   |
|   |   |——auth-web---------------------------------------认证中心维护支撑WEB

~~~~

# 服务中心部署

## 开发（测试）
### uoo-base基础模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 86 | uoo-sleuth | 服务追踪 | 8600、8611、8622 |
| 87 | uoo-register | 注册中心 | 8751、8761、8771 |
| 88 | uoo-gateway | 通用网关 | 8800、8811、8822 |
| 89 | uoo-monitor | 微服务监控 | 8900、8911、8922 |

### uoo-common公用模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 90 | common-auth | 公用登录认证鉴权 | 9000、9011、9022 |
| 91 | common-system | 公用系统公共部分包含用户、部门、菜单、角色、区域、字典服务中心 | 9100、9111、9122 |
| 92 | activiti-core | 公共工作流服务中心 | 9200、9211、9222 |
| 93 | common-cache | 公共缓存服务中心 | 9300、9311、9322 |
| 94 | queues-manager | 公共队列的基本管理服务中心 | 9400、9411、9422 |

### uoo-business业务模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 110 | business-syn-msg | 数据共享-数据封装组件 | 11000、11022、11033 |
| 111 | business-organization |组织域服务中心 | 11100、11111、11122 |
| 112 | business-personnel | 人员域服务中心 | 11200、11211、11222 |
| 113 | business-user | 用户业务服务中心 | 11300、11311、11322 |
| 114 | business-permission | 权限域服务中心 | 11400、11411、11422 |
| 115 | business-public | 职位域服务中心 | 11500、11511、11522 |
| 116 | business-position | 职位域服务中心 | 11600、11611、11622 |
| 100 | uoo-position | 职位模块 | 10000、10011、10022 |

### uoo-business-web业务模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 180 | mdm-web | 用户组织运营平台WEB | 18000、18022、18033 |
| 181 | auth-web | 认证管理平台WEB | 18100、18111、18122 |

### uoo-business-api业务模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 200 | api-user | 组织域服务API | 20000、20022、20033 |
| 201 | api-org | 人员域服务API | 20100、20111、20122 |
| 202 | api-auth | 用户域服务API | 20200、20211、20222 |

## 开发（生产）
### uoo-base基础模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 86 | uoo-sleuth | 服务追踪 | 8600、8611、8622、8633、8644 |
| 87 | uoo-register | 注册中心 | 8751、8761、8771，8781、8791 |
| 88 | uoo-gateway | 通用网关 | 8800、8811、8822、8833、8444 |
| 89 | uoo-monitor | 微服务监控 | 8900、8911、8922、8933、8944 |

### uoo-common公用模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 90 | common-auth | 公用登录认证鉴权 | 9000、9011、9022、9033、9044 |
| 91 | common-system | 公用系统公共部分包含用户、部门、菜单、角色、区域、字典服务中心 | 9100、9111、9122、9133、9144 |
| 92 | activiti-core | 公共工作流服务中心 | 9200、9211、9222、9233、9244 |
| 93 | common-cache | 公共缓存服务中心 | 9300、9311、9322、9333、9344 |
| 94 | queues-manager | 公共队列的基本管理服务中心 | 9400、9411、9422、9433、9444 |

### uoo-business业务模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 110 | business-syn-msg | 数据共享-数据封装组件 | 11000、11022、11033、11044、11055 |
| 111 | business-organization |组织域服务中心 | 11100、11111、11122、11133、11144 |
| 112 | business-personnel | 人员域服务中心 | 11200、11211、11222、11233、11244 |
| 113 | business-user | 用户业务服务中心 | 11300、11311、11322、11333、11344 |
| 114 | business-permission | 权限域服务中心 | 11400、11411、11422、11433、11444 |
| 115 | business-public | 职位域服务中心 | 11500、11511、11522、11533、11544 |
| 116 | business-position | 职位域服务中心 | 11600、11611、11622、11633、11644 |

### uoo-business-web业务模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 180 | mdm-web | 用户组织运营平台WEB | 18000、18011、18022、18033、18044 |
| 181 | auth-web | 认证管理平台WEB | 18100、18111、18122、18133、18144 |

### uoo-business-api业务模块

| 序号 | 名称 | 描述 | 端口 |
| ------ | ------ | ------ | ------ |
| 200 | api-user | 组织域服务API | 20000、20022、20033、20033、20044  |
| 201 | api-org | 人员域服务API | 20100、20111、20122、20133、20144 |
| 202 | api-auth | 用户域服务API | 20200、20211、20222、20233、20244 |
